/*!
 * v0.0.2 (c) 2023
 *
 * Includes:
 * - https://www.npmjs.com/package/es6-promise
 */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PQ=t.document=t.Math=t.navigator=t.performance=t.WINDOW=void 0;var o=r(n(48));t.WINDOW=window,t.performance=t.WINDOW.performance,t.navigator=t.WINDOW.navigator,t.Math=t.WINDOW.Math,t.document=t.WINDOW.document,t.WINDOW.PQ=t.WINDOW.PQ||{},t.PQ=t.WINDOW.PQ,t.WINDOW.Promise||o.default.polyfill()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.validateWindow=t.getDescendantWindows=t.getCurrentTimestamp=t.getCorrespondentWindow=t.getAncestorWindows=t.coverageToBitFlag=t.Container=void 0,o(n(8),t);var i=n(26);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var a=n(27);Object.defineProperty(t,"coverageToBitFlag",{enumerable:!0,get:function(){return a.coverageToBitFlag}});var s=n(12);Object.defineProperty(t,"getAncestorWindows",{enumerable:!0,get:function(){return s.getAncestorWindows}});var u=n(28);Object.defineProperty(t,"getCorrespondentWindow",{enumerable:!0,get:function(){return u.getCorrespondentWindow}});var l=n(29);Object.defineProperty(t,"getCurrentTimestamp",{enumerable:!0,get:function(){return l.getCurrentTimestamp}});var c=n(30);Object.defineProperty(t,"getDescendantWindows",{enumerable:!0,get:function(){return c.getDescendantWindows}});var d=n(31);Object.defineProperty(t,"validateWindow",{enumerable:!0,get:function(){return d.validateWindow}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeContainer=t.container=void 0;var r=n(1),o=n(9),i=n(13),a=n(14);t.container=new r.Container;t.initializeContainer=function(){var e,n,s,u,l,c,d,f;if(t.container.isEmpty()){var v=a.factory.get(1),p="",g="",h="",y=1;try{p=null!==(n=null===(e=window.location)||void 0===e?void 0:e.href)&&void 0!==n?n:"",g=new URL(p).hostname,h=null!==(u=null===(s=window.navigator)||void 0===s?void 0:s.userAgent)&&void 0!==u?u:"",y=null!==(d=null===(c=null===(l=window.Math)||void 0===l?void 0:l.random)||void 0===c?void 0:c.call(l))&&void 0!==d?d:y}catch(e){}var m={linking:{sharedId:null,depth:0,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!0,sellerMonitoringTag:!1,buyerMonitoringTag:!1},visit:{pageUrl:p,userAgent:h}},_=y<(null!==(f=window[r.TRACKING_RATE_KEY])&&void 0!==f?f:o.DEFAULT_TRACKING_RATE);t.container.set(0,window),t.container.set(1,document),t.container.set(6,p),t.container.set(7,g),t.container.set(8,h),t.container.set(2,new v),t.container.set(3,new i.EventLogger),t.container.set(4,m),t.container.set(5,_)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCRIPT_PATTERN=t.SLOT_SIGNALS=t.GLOBAL_SIGNALS=t.ALL_SIGNALS=t.TVP=t.VLP=t.ABS=t.BSC=t.IDS=t.GREENLIGHT_TARGETING_KEY=t.PT_ON_LOAD_WITH_SIGNALS_EVENT=t.PT_ON_LOAD_EVENT=t.PT_DUPLICATED_LOAD_EVENT=t.QT_SLOT_ID_KEY=t.QT_PAGE_ID_KEY=void 0,t.QT_PAGE_ID_KEY="pts_pid",t.QT_SLOT_ID_KEY="pts_sid",t.PT_DUPLICATED_LOAD_EVENT="pq-dupl",t.PT_ON_LOAD_EVENT="load-pq",t.PT_ON_LOAD_WITH_SIGNALS_EVENT="load-pq-signals",t.GREENLIGHT_TARGETING_KEY="qt_loaded",t.IDS="IDS",t.BSC="BSC",t.ABS="ABS",t.VLP="VLP",t.TVP="TVP",t.ALL_SIGNALS=[t.IDS,t.BSC,t.ABS,t.VLP,t.TVP],t.GLOBAL_SIGNALS=[t.IDS,t.BSC,t.ABS],t.SLOT_SIGNALS=[t.VLP,t.TVP],t.SCRIPT_PATTERN=/(?:http|https):\/\/[^/]+\.(?:doubleverify\.com)\/signals\/pub.js/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DV_DATA_OBJECT=void 0,t.DV_DATA_OBJECT={"url":"https://pub.doubleverify.com/signals/pub.json"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.PixelRequestBuilder=t.EventAction=t.PixelParamNames=void 0,function(e){e.ClientId="cid",e.Ctx="ctx",e.Cmp="cmp",e.EventCategory="ec",e.EventAction="ea",e.PackageVersion="cd105",e.UniqueId="cd160",e.Referrer="cd161",e.CacheBuster="z",e.HitType="t",e.ProtocolVersion="v",e.ErrorDim="cd110",e.NetworkStateDim="cd180",e.FetchDurationMetr="cm180",e.DomainLookupDurationMetr="cm181",e.ConnectioDurationMetr="cm182",e.TlsConnectioDurationMetr="cm183",e.RequestDurationMetr="cm184",e.ResponseDurationMetr="cm185",e.TotalExecutionDurationMetr="cm186",e.SignalIdsMetr="cm170",e.SignalIdsDescriptionDim="cd187",e.SignalIdsDurationMetr="cm187",e.SignalBscDim="cd171",e.SignalBscDescriptionDim="cd188",e.SignalBscDurationMetr="cm188",e.SignalVlpDescriptionDim="cd189",e.SignalVlpDurationMetr="cm189",e.SignalsSlotTargetingDim="cd175",e.AuthDurationMetr="cm190",e.AuthDescriptionDim="cd190",e.ServerDurationMetr="cm191",e.ResponseIdDim="cd191",e.IsSomeAdsLoadedBeforePageTag="cm192",e.SlotRequestedTimeDelta="cm193",e.TagType="cd50",e.TagVersion="cd51",e.ApiFunction="cd52",e.RequestSuccess="cd53",e.CallbackTime="cm54",e.IsPrefetch="cd55",e.IdsRequested="cm56",e.BscRequested="cm57",e.AbsRequested="cm58",e.VlpRequested="cm59",e.TvpRequested="cm60",e.IdsResult="cm61",e.BscResult="cm62",e.AbsResult="cm63",e.VlpResult="cm64",e.TvpResult="cm65",e.VlpSlots="cm66",e.TvpSlots="cm67",e.AutoInsertEnabled="cd68"}(t.PixelParamNames||(t.PixelParamNames={})),function(e){e.Unknown="unknown",e.SlotTimeout="slot-timeout",e.RequestTimeout="request-timeout",e.AutoinsertTimeout="autoinsert-timeout",e.LoadSignals="load-signals",e.LoadSignalsSlots="load-signals-slots"}(t.EventAction||(t.EventAction={}));var i=function(){function e(e,t){void 0===t&&(t={}),this.url=e,this.baseOptions=t}return e.prototype.getUrl=function(e){var t,n;void 0===e&&(e={});var i=r(r({},this.baseOptions),e),a=[];try{for(var s=o(Object.keys(i)),u=s.next();!u.done;u=s.next()){var l=u.value,c=i[l];null!=c&&a.push("".concat(l,"=").concat(encodeURIComponent(c)))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return"".concat(this.url,"?").concat(a.join("&"))},e}();t.PixelRequestBuilder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^(Date.now()/1e9%1+r.Math.random())%1*(20^e?16:4):4).toString(16):"-");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCacheStatus=t.getPerfEntry=t.getExecTime=void 0;var r=n(0),o=n(21);t.getExecTime=function(){return r.performance&&"function"==typeof r.performance.now?r.performance.now():null};t.getPerfEntry=function(e){return r.performance&&r.performance.getEntries?new Promise((function(t){return setTimeout((function(){return t((0,o.findInArray)(r.performance.getEntriesByType("resource"),(function(t){return t.name===e})))}),0)})):Promise.resolve(null)};t.getCacheStatus=function(e){var t=e.transferSize,n=e.decodedBodySize;return t>0?"network":n>0?"cache":"unknown"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_NODE_KEY=t.MONITORING_TAG_ON_TOP_LEVEL_KEY=t.TRACKING_RATE_KEY=t.TRACKING_EVENT_CATEGORY=t.TRACKING_BASE_URL=t.MAX_WINDOW_DEPTH=void 0,t.MAX_WINDOW_DEPTH=20,t.TRACKING_BASE_URL="https://vtrk.doubleverify.com",t.TRACKING_EVENT_CATEGORY="data-transparency",t.TRACKING_RATE_KEY="dv-data-transparency-tracking-rate",t.MONITORING_TAG_ON_TOP_LEVEL_KEY="dv-data-transparency-top-level-monitoring",t.DATA_NODE_KEY="dv-data-transparency-data-node"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TRACKING_RATE=t.TAG_ACTIVE_KEY=void 0,t.TAG_ACTIVE_KEY="dv-data-transparency-tag-active",t.DEFAULT_TRACKING_RATE=.001},function(e,t,n){"use strict";var r,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onError=t.track=void 0;var a=n(4),s=n(0),u=n(5),l=i(n(51)),c=i(n(19)),d=i(n(6)),f=((r={})[u.PixelParamNames.ProtocolVersion]="1",r[u.PixelParamNames.HitType]="event",r[u.PixelParamNames.EventCategory]="page",r[u.PixelParamNames.PackageVersion]="@dvpub/signals-pagetag@0.0.2",r),v=new u.PixelRequestBuilder("https://vtrk.doubleverify.com",f);t.track=function(e){var t;void 0===e&&(e={});var n=a.DV_DATA_OBJECT.ctx,r=a.DV_DATA_OBJECT.cmp,i=a.DV_DATA_OBJECT.pid,f=o(((t={})[u.PixelParamNames.ClientId]=i,t[u.PixelParamNames.CacheBuster]=(0,c.default)(),t[u.PixelParamNames.Ctx]=n||"missing",t[u.PixelParamNames.UniqueId]=(0,d.default)(),t[u.PixelParamNames.Referrer]=s.WINDOW.location.href,t),e);r&&(f[u.PixelParamNames.Cmp]=r),(0,l.default)(v.getUrl(f))};t.onError=function(e){var n,r=((n={})[u.PixelParamNames.EventAction]="error",n[u.PixelParamNames.ErrorDim]=(null==e?void 0:e.message)||"unknown error",n);(0,t.track)(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectAssign=void 0;t.objectAssign=Object.assign||function(e,t){Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAncestorWindows=void 0;var r=n(8),o=function(e,t,n,r){if(!(n>=r||e===e.top)){var i=e.parent;i!==e&&(t.unshift(i),o(i,t,n+1,r))}};t.getAncestorWindows=function(e,t){void 0===t&&(t=r.MAX_WINDOW_DEPTH);var n=[];try{o(e,n,0,t)}catch(e){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;var r=n(1),o=n(2),i=n(32),a=function(){function e(){this.eventCount=0}return e.prototype.track=function(e){var t,n,a,s,u,l,c,d,f,v=o.container.get(6),p=o.container.get(7),g=o.container.get(8);if(null!=e.state){f=(0,r.coverageToBitFlag)(e.state.coverage);var h={};h.linking=e.state.linking,null!=e.state.sellerDimensions&&(h.sellerDimensions=e.state.sellerDimensions),d=JSON.stringify(h)}var y={ec:r.TRACKING_EVENT_CATEGORY,ea:e.event,cid:null!==(t=this.visitId)&&void 0!==t?t:"unknown",ctx:"missing",cd101:this.visitId,cd103:null!==(a=null===(n=e.state)||void 0===n?void 0:n.linking.sharedId)&&void 0!==a?a:null,cm104:f,cm105:this.eventCount,cm106:(0,r.getCurrentTimestamp)(),cm107:e.reportedDepth,cm108:e.actualDepth,cm109:e.numTargets,cd110:e.description,cd111:d,cd120:e.slotId,cd129:p,cd130:v,cd131:g,cd132:null===(u=null===(s=e.state)||void 0===s?void 0:s.visit)||void 0===u?void 0:u.pageUrl,cd133:null===(c=null===(l=e.state)||void 0===l?void 0:l.visit)||void 0===c?void 0:c.userAgent,z:Math.floor(1e12*Math.random())};(0,i.fireTracker)(r.TRACKING_BASE_URL,y),this.eventCount+=1},e.prototype.onSlotRequested=function(e){o.container.get(5)&&this.track({event:"slot-requested",slotId:e.slot.getSlotElementId()})},e.prototype.onMessageReceivedByPageTag=function(e,t,n){if(o.container.get(5)){var i=e.payload.sharedState.linking.sharedId;null!=i&&null==this.visitId&&(this.visitId=i);var a=(0,r.getAncestorWindows)(t).length;this.track({event:"msg-received",actualDepth:a,reportedDepth:e.payload.source.windowDepth,slotId:n,state:e.payload.sharedState})}},e.prototype.onMessageSentByPageTag=function(e,t,n){o.container.get(5)&&this.track({event:"msg-sent",slotId:n,state:e.payload.sharedState,numTargets:t.length})},e.prototype.onPageTagNotOnTopLevel=function(){o.container.get(5)&&this.track({event:"error",description:"page tag not on top-level"})},e.prototype.onMeasurementTagOnToplevel=function(){o.container.get(5)&&this.track({event:"error",description:"monitoring tag on top-level"})},e}();t.EventLogger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.factory=void 0;var r=n(1),o=n(15),i=n(13),a=n(41),s=new r.Container;t.factory=s,s.set(0,o.DataNode),s.set(1,a.MessageRouter),s.set(2,i.EventLogger)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(33),t),o(n(38),t),o(n(16),t),o(n(39),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSharedState=void 0;var r=n(34);Object.defineProperty(t,"updateSharedState",{enumerable:!0,get:function(){return r.updateSharedState}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.copyState=void 0;t.copyState=function(e){var t={linking:r({},e.linking),coverage:r({},e.coverage)};return null!=e.visit&&(t.visit=r({},e.visit)),null!=e.sellerDimensions&&(t.sellerDimensions=r({},e.sellerDimensions)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSharedState=void 0;t.validateSharedState=function(e){return null!=e.linking&&(null==e.linking.sharedId||"string"==typeof e.linking.sharedId)&&"number"==typeof e.linking.depth&&"number"==typeof e.linking.timestamp&&null!=e.coverage&&"boolean"==typeof e.coverage.sellerPageTag&&"boolean"==typeof e.coverage.sellerMonitoringTag&&"boolean"==typeof e.coverage.buyerMonitoringTag&&(null==e.visit||"string"==typeof e.visit.pageUrl&&"string"==typeof e.visit.userAgent)&&(null==e.sellerDimensions||Object.values(e.sellerDimensions).every((function(e){return"string"==typeof e})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(){return r.Math.floor(1e12*r.Math.random())}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getPerformanceReport=t.reportPerformance=void 0;var a=n(3),s=n(0),u=n(5),l=n(10),c=n(21),d=n(11),f=n(7),v=n(52),p=function(e,t){return s.Math.round(t-e)};t.reportPerformance=function(e,n,i){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return r=l.track,[4,(0,t.getPerformanceReport)(e,n,i)];case 1:return r.apply(void 0,[o.sent()]),[2]}}))}))};t.getPerformanceReport=function(e,t,n){var l=e.src,g=e.headers,h=e.data,y=e.slotTargeting,m=e.isSomeAdsLoadedBeforePageTag,_=e.slotRequestedTimeDelta;return r(void 0,void 0,void 0,(function(){var e,r,T,S,P,b,A,w,D;return o(this,(function(o){switch(o.label){case 0:return(w={})[u.PixelParamNames.TagType]="qt",w[u.PixelParamNames.ResponseIdDim]=null===(D=null==g?void 0:g.get("cf-ray"))||void 0===D?void 0:D.split("-")[0],e=w,null!=n&&(e[u.PixelParamNames.EventAction]=n),s.performance?[4,(0,f.getPerfEntry)(l)]:[3,2];case 1:return(r=o.sent())?(S=function(e,t){var n={},r=(0,f.getCacheStatus)(e);n[u.PixelParamNames.NetworkStateDim]=r;var o=e.fetchStart,i=e.domainLookupStart,a=e.domainLookupEnd,s=e.connectStart,l=e.secureConnectionStart,c=e.connectEnd,d=e.requestStart,v=e.responseStart,g=e.responseEnd,h=l||c;return n[u.PixelParamNames.FetchDurationMetr]=p(o,g),n[u.PixelParamNames.DomainLookupDurationMetr]=p(i,a),n[u.PixelParamNames.ConnectioDurationMetr]=p(s,h),n[u.PixelParamNames.TlsConnectioDurationMetr]=p(h,c),n[u.PixelParamNames.RequestDurationMetr]=p(d,v),n[u.PixelParamNames.ResponseDurationMetr]=p(v,g),n[u.PixelParamNames.TotalExecutionDurationMetr]=p(o,t),n}(r,t),(0,d.objectAssign)(e,S),T=r.serverTiming):e[u.PixelParamNames.NetworkStateDim]="no-entry",[3,3];case 2:e[u.PixelParamNames.NetworkStateDim]="no-api",o.label=3;case 3:return T=T||(0,v.getServerTimingFromHeaders)(g),P=function(e,t){var n,r,o={},s=function(n){var r=null==e?void 0:e[n];if(null==r)return"continue";var i=void 0,s=void 0;switch(n){case a.IDS:o[u.PixelParamNames.SignalIdsMetr]=r,i=u.PixelParamNames.SignalIdsDescriptionDim,s=u.PixelParamNames.SignalIdsDurationMetr;break;case a.BSC:Array.isArray(r)&&(o[u.PixelParamNames.SignalBscDim]=r.join(",")),i=u.PixelParamNames.SignalBscDescriptionDim,s=u.PixelParamNames.SignalBscDurationMetr;break;case a.VLP:i=u.PixelParamNames.SignalVlpDescriptionDim,s=u.PixelParamNames.SignalVlpDurationMetr}var l=(0,c.findInArray)(t,(function(e){return e.name===n.toLowerCase()}));if(!l)return"continue";var d=l.description,f=l.duration;o[i]=d,o[s]=f};try{for(var l=i(a.ALL_SIGNALS),d=l.next();!d.done;d=l.next()){s(d.value)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o}(h,T),(0,d.objectAssign)(e,P),(b=T.find((function(e){return"rauth"===e.name})))&&(e[u.PixelParamNames.AuthDurationMetr]=b.duration,e[u.PixelParamNames.AuthDescriptionDim]=b.description),(A=T.find((function(e){return"total"===e.name})))&&(e[u.PixelParamNames.ServerDurationMetr]=A.duration),y&&(e[u.PixelParamNames.SignalsSlotTargetingDim]=JSON.stringify(y)),null!=m&&(e[u.PixelParamNames.IsSomeAdsLoadedBeforePageTag]=m?1:0),null!=_&&(e[u.PixelParamNames.SlotRequestedTimeDelta]=_),[2,e]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=void 0;t.findInArray=Array.prototype.find?function(e,t){return Array.prototype.find.call(e,t)}:function(e,t){for(var n=0;n<e.length;n+=1){if(t(e[n]))return e[n]}}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.googletagService=void 0;var o=n(0),i=function(){function e(){this.initGpt()}return e.prototype.initGpt=function(){o.WINDOW.googletag=o.WINDOW.googletag||{},o.WINDOW.googletag.cmd=o.WINDOW.googletag.cmd||[]},e.prototype.getGpt=function(){return o.WINDOW.googletag},e.prototype.setTargeting=function(e,t){var n=this.getGpt();n.cmd.push((function(){n.pubads().setTargeting(e,t)}))},e.prototype.getSlots=function(){var e=this.getGpt();return new Promise((function(t){e.cmd.push((function(){var n=e.pubads().getSlots();t(n)}))}))},e.prototype.getSlotSizes=function(e){var t,n,o=[];try{for(var i=r(e.getSizes()),a=i.next();!a.done;a=i.next()){var s=a.value,u="string"==typeof s?s:"".concat(s.getWidth(),"x").concat(s.getHeight());o.push(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o},e.prototype.haveAdsLoaded=function(){var e,t,n,r,o,i,a;return null!==(a=null===(i=null===(r=null===(t=(e=this.getGpt()).pubads)||void 0===t?void 0:(n=t.call(e)).getSlots)||void 0===r?void 0:(o=r.call(n)).some)||void 0===i?void 0:i.call(o,(function(e){return e.getResponseInformation()})))&&void 0!==a&&a},e.prototype.addSlotRequestedListener=function(e){var t=this.getGpt();t.cmd.push((function(){t.pubads().addEventListener("slotRequested",e)}))},e.prototype.removeSlotRequestedListener=function(e){var t=this.getGpt();t.cmd.push((function(){t.pubads().removeEventListener("slotRequested",e)}))},e.prototype.getTargetingSync=function(e){var t,n,r=this.getGpt();return null!==(n=null===(t=r.pubads)||void 0===t?void 0:t.call(r).getTargeting(e))&&void 0!==n?n:[]},e.prototype.getSlotsSync=function(){var e,t,n=this.getGpt();return null!==(t=null===(e=n.pubads)||void 0===e?void 0:e.call(n).getSlots())&&void 0!==t?t:[]},e}();t.googletagService=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),o=n(46),i=n(10);!function(){try{(0,o.initGlobalApi)()}catch(e){(0,i.onError)(e)}}(),(0,r.run)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.run=void 0;var r=n(25);t.run=function(){try{(0,r.main)()}catch(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;var r=n(1),o=n(9),i=n(2),a=n(45);t.main=function(){var e;if((0,a.isTagAllowedToRun)()){(0,i.initializeContainer)();var t=i.container.get(0),n=i.container.get(2),s=i.container.get(3);(0,a.isTagOnTopLevel)()?(t.addEventListener("message",(function(e){n.onMessageReceived(e)})),t.googletag=null!==(e=t.googletag)&&void 0!==e?e:{cmd:[]},t.googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRequested",(function(e){n.onSlotRequested(e)}))})),t[o.TAG_ACTIVE_KEY]=!0,t[r.MONITORING_TAG_ON_TOP_LEVEL_KEY]=function(){s.onMeasurementTagOnToplevel()}):s.onPageTagNotOnTopLevel()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var r=function(){function e(){this.container={}}return Object.defineProperty(e.prototype,"size",{get:function(){return Object.keys(this.container).length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.size},e.prototype.clear=function(){this.container={}},e.prototype.get=function(e){if(void 0===this.container[e])throw new Error("undefined container item: "+e);return this.container[e]},e.prototype.set=function(e,t){if(void 0===t)throw new Error("cannot store undefined in container: "+e);this.container[e]=t},e}();t.Container=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coverageToBitFlag=void 0;t.coverageToBitFlag=function(e){return(e.sellerPageTag?1:0)|(e.sellerMonitoringTag?2:0)|(e.buyerMonitoringTag?4:0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCorrespondentWindow=void 0;var r=n(12);t.getCorrespondentWindow=function(e,t){var n=(0,r.getAncestorWindows)(e);return n.length===t?e:n.length>t?n[t]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTimestamp=void 0;t.getCurrentTimestamp=function(){var e,t;try{return null!==(t=null===(e=null===Date||void 0===Date?void 0:Date.now)||void 0===e?void 0:e.call(Date))&&void 0!==t?t:0}catch(e){}return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDescendantWindows=void 0;var r=n(8),o=function(e,t,n,r){if(!(n>=r))for(var i=0;i<e.length;i++){var a=e[i];t.push(a),o(a,t,n+1,r)}};t.getDescendantWindows=function(e,t){void 0===t&&(t=r.MAX_WINDOW_DEPTH);var n=[];try{o(e,n,0,t)}catch(e){}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateWindow=void 0;t.validateWindow=function(e){try{return null!=e&&null!=e.top&&null!=e.parent&&null!=e.length&&e.window===e&&"function"==typeof e.postMessage}catch(e){return!1}}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fireTracker=void 0;var o=n(2);t.fireTracker=function(e,t){var n=o.container.get(0),i=e+"?"+Object.entries(t).filter((function(e){var t=r(e,2);t[0];return null!=t[1]})).map((function(e){var t=r(e,2),n=t[0],o=t[1];return n+"="+encodeURIComponent(o)})).join("&");try{"function"==typeof n.navigator.sendBeacon?n.navigator.sendBeacon(i):(new Image).src=i}catch(e){}}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataNode=void 0;var a=n(1),s=n(16),u=n(17),l=n(37),c=function(){function e(e,t){void 0===t&&(t=!1),this.sharedState=(0,l.getEmptyState)(),this.correspondents=[],this.localTagSubscriptions=[],this.dispatchMessageListeners=[],this.hostWindow=e,this.hostWindowDepth=(0,a.getAncestorWindows)(this.hostWindow).length,this.hubWindow=this.hostWindow,this.hubWindowDepth=this.hostWindowDepth,this.broadcastingDisabled=t}return Object.defineProperty(e.prototype,"depth",{get:function(){return this.hostWindowDepth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDispatchMessage",{set:function(e){this.dispatchMessageListeners.push(e)},enumerable:!1,configurable:!0}),e.prototype.isHub=function(){return this.hubWindow===this.hostWindow},e.prototype.isAllowedToCorrespond=function(){return this.localTagSubscriptions.length>0},e.prototype.mergeState=function(e){var t=(0,s.updateSharedState)(this.sharedState,e),n=t.newState,r=t.stateWasUpdated,o=t.inputWasIncomplete;return this.sharedState=n,{stateWasUpdated:r,inputWasIncomplete:o}},e.prototype.composeMessage=function(e){return void 0===e&&(e=!1),{sharedState:(0,u.copyState)(this.sharedState),source:{windowDepth:this.hostWindowDepth,canBecomeHub:!0,responseRequired:e}}},e.prototype.registerCorrespondent=function(e,t,n){e===this.hostWindow||this.correspondents.includes(e)||(this.correspondents.push(e),n&&(null==this.hubWindow||t<this.hubWindowDepth)&&(this.hubWindow=e,this.hubWindowDepth=t))},e.prototype.dispatchMessage=function(e,t){var n,o,i,s;if(0!==t.length){var u={command:"data-transparency-update",payload:e,timestamp:(0,a.getCurrentTimestamp)()};try{for(var l=r(t),c=l.next();!c.done;c=l.next()){var d=c.value;try{d.postMessage(u,"*")}catch(e){}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}try{for(var f=r(this.dispatchMessageListeners),v=f.next();!v.done;v=f.next()){(0,v.value)(u,t)}}catch(e){i={error:e}}finally{try{v&&!v.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}},e.prototype.notifyLocalTags=function(){var e,t;try{for(var n=r(this.localTagSubscriptions),o=n.next();!o.done;o=n.next()){(0,o.value)(this.sharedState)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.notifyAllowedCorrespondents=function(e){if(this.isAllowedToCorrespond()){var t=[];this.isHub()?t.push.apply(t,i([],o(this.correspondents.filter((function(t){return t!==e}))),!1)):this.hubWindow!==e&&t.push(this.hubWindow),this.dispatchMessage(this.composeMessage(),t)}},e.prototype.notifyCorrespondent=function(e){this.isAllowedToCorrespond()&&this.dispatchMessage(this.composeMessage(),[e])},e.prototype.broadCastState=function(){var e=this;if(!this.broadcastingDisabled&&this.isAllowedToCorrespond())if(this.notifyAllowedCorrespondents(),this.isHub())this.dispatchMessage(this.composeMessage(!0),i(i([],o((0,a.getAncestorWindows)(this.hostWindow)),!1),o((0,a.getDescendantWindows)(this.hostWindow)),!1).filter((function(t){return!e.correspondents.includes(t)})));else{var t=(0,a.getAncestorWindows)(this.hubWindow);t.length>0&&this.dispatchMessage(this.composeMessage(!0),t)}},e.prototype.ingestMessageFromCorrespondent=function(e,t){var n=e.sharedState,r=e.source,o=(0,a.getCorrespondentWindow)(t,r.windowDepth);if(null!=o){this.registerCorrespondent(o,r.windowDepth,r.canBecomeHub);var i=this.mergeState(n),s=i.stateWasUpdated,u=i.inputWasIncomplete;s&&(this.notifyLocalTags(),this.isHub()&&this.notifyAllowedCorrespondents(o));var l=this.isHub()&&u,c=this.isHub()&&r.responseRequired,d=o===this.hubWindow&&r.responseRequired;(l||c||d)&&this.notifyCorrespondent(o)}},e.prototype.registerLocalTagAndSubscribe=function(e,t){void 0===t&&(t=function(){});var n=this.mergeState(e).stateWasUpdated,r=0===this.localTagSubscriptions.length;this.localTagSubscriptions.includes(t)||this.localTagSubscriptions.push(t),n?this.notifyLocalTags():t(this.sharedState),r?this.broadCastState():n&&this.notifyAllowedCorrespondents()},e}();t.DataNode=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSharedState=void 0;var i=n(17),a=n(35),s=n(36);t.updateSharedState=function(e,t){var n,u,l={newState:(0,i.copyState)(e),stateWasUpdated:!1,inputWasIncomplete:!1},c=(0,a.compareLinkingPriority)(e.linking,t.linking);2===c?(l.stateWasUpdated=!0,l.newState.linking=r({},t.linking)):1===c&&(l.inputWasIncomplete=!0);try{for(var d=o(Object.keys(e.coverage)),f=d.next();!f.done;f=d.next()){var v=f.value;t.coverage[v]?e.coverage[v]||(l.stateWasUpdated=!0,l.newState.coverage[v]=!0):e.coverage[v]&&(l.inputWasIncomplete=!0)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(u=d.return)&&u.call(d)}finally{if(n)throw n.error}}var p=(0,s.compareRecordPriority)(e.visit,t.visit,c);2===p?(l.stateWasUpdated=!0,l.newState.visit=r({},t.visit)):1===p&&(l.inputWasIncomplete=!0);var g=(0,s.compareRecordPriority)(e.sellerDimensions,t.sellerDimensions,c);return 2===g?(l.stateWasUpdated=!0,l.newState.sellerDimensions=r({},t.sellerDimensions)):1===g&&(l.inputWasIncomplete=!0),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareLinkingPriority=void 0;t.compareLinkingPriority=function(e,t){return e.sharedId===t.sharedId?0:null==e.sharedId?2:null==t.sharedId?1:e.depth>t.depth?2:e.depth<t.depth?1:e.sharedId>t.sharedId?2:1}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.compareRecordPriority=void 0;t.compareRecordPriority=function(e,t,n){return null!=e&&null!=t?function(e,t){return Object.entries(e).every((function(e){var n=r(e,2),o=n[0],i=n[1];return t[o]===i}))}(e,t)?0:n:null==e&&null==t?0:null==t?1:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyState=void 0;var r=n(1);t.getEmptyState=function(){return{linking:{sharedId:null,depth:0,timestamp:(0,r.getCurrentTimestamp)()},coverage:{sellerPageTag:!1,sellerMonitoringTag:!1,buyerMonitoringTag:!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSharedState=t.validateMessageData=void 0;var r=n(40);Object.defineProperty(t,"validateMessageData",{enumerable:!0,get:function(){return r.validateMessageData}});var o=n(18);Object.defineProperty(t,"validateSharedState",{enumerable:!0,get:function(){return o.validateSharedState}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMessageData=void 0;var r=n(18);t.validateMessageData=function(e){var t=e.command,n=e.payload,o=e.timestamp;if("data-transparency-update"!==t||null==n||"number"!=typeof o)return!1;var i=n.sharedState,a=n.source;return null!=i&&(0,r.validateSharedState)(i)&&(null==a||"number"==typeof a.windowDepth&&"boolean"==typeof a.responseRequired)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRouter=void 0;var r=n(1),o=n(15),i=n(2),a=n(42),s=n(43),u=n(44),l=function(){function e(){this._slots=[]}return e.prototype.onSlotRequested=function(e){var t=i.container.get(1),n=i.container.get(3);n.onSlotRequested(e);var r=e.slot.getSlotElementId(),o=this._slots.find((function(e){return e.slotId===r})),a=function(e,t){n.onMessageSentByPageTag(e,t,r)};if(null!=o)return o.node=(0,u.getNewDataNode)(),void(o.node.onDispatchMessage=a);var s=t.getElementById(r);if(null!=s){var l=(0,u.getNewDataNode)();l.onDispatchMessage=a,this._slots.push({slotId:r,slotDiv:s,node:l})}},e.prototype.onMessageReceived=function(e){var t=e,n=t.source,u=t.data,l=i.container.get(3);if((0,r.validateWindow)(n))if((0,o.validateMessageData)(u)){var c=this._slots.find((function(e){var t=e.slotDiv;return(0,s.divContainsWindow)(t,n)}));if(l.onMessageReceivedByPageTag(u,n,null==c?void 0:c.slotId),null!=c)c.node.ingestMessageFromCorrespondent(u.payload,n);else{var d=i.container.get(4),f=u.payload.sharedState,v=(0,o.updateSharedState)(f,d),p=v.newState;if(v.stateWasUpdated){var g={command:"data-transparency-update",timestamp:(0,r.getCurrentTimestamp)(),payload:{source:{windowDepth:0,canBecomeHub:!1,responseRequired:!1},sharedState:p}};l.onMessageSentByPageTag(g,[n]);var h=(0,r.getCorrespondentWindow)(n,u.payload.source.windowDepth);null!=h&&h.postMessage(g,"*")}}}else(0,a.maybeSendLegacyResponse)(e.ports,u)},e}();t.MessageRouter=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeSendLegacyResponse=void 0;var r=n(2);t.maybeSendLegacyResponse=function(e,t){var n,o,i=t,a=i.command,s=i.participantId;if("data-transparency-query"===a&&null!=s&&null!=e&&null!=e[0]){var u={command:"data-transparency-query-response",tagVersion:"0.0.0",payload:{identifiers:{visit:s,slot:s,impression:s},pageUrl:r.container.get(6),userAgent:r.container.get(8)}};null===(o=(n=e[0]).postMessage)||void 0===o||o.call(n,u)}}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.divContainsWindow=void 0;var i=n(1),a=function(e,t){for(var n=e.getElementsByTagName(t),r=[],o=0;o<n.length;o++){var i=n[o].contentWindow;null!=i&&r.push(i)}return r};t.divContainsWindow=function(e,t){var n=(0,i.getAncestorWindows)(t);n.shift(),n.push(t);var s=o(o([],r(a(e,"iframe")),!1),r(a(e,"frame")),!1);return n.some((function(e){return s.includes(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewDataNode=void 0;var r=n(2),o=n(14);t.getNewDataNode=function(){var e=o.factory.get(0),t=r.container.get(0),n=r.container.get(4),i=new e(t,!0);return i.registerLocalTagAndSubscribe(n),i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTagOnTopLevel=t.isTagAllowedToRun=void 0;var r=n(1),o=n(9);t.isTagAllowedToRun=function(){try{return"undefined"!=typeof window&&(0,r.validateWindow)(window)&&null==window[o.TAG_ACTIVE_KEY]&&"undefined"!=typeof document&&"function"==typeof document.getElementById}catch(e){return!1}};t.isTagOnTopLevel=function(){try{return window.parent===window&&window.top===window}catch(e){return!1}}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initGlobalApi=void 0;var i=n(47),a=n(3),s=n(4),u=n(0),l=n(5),c=n(10),d=n(20),f=n(22),v=n(53),p=n(65),g=n(11),h=n(7),y=o(n(6)),m=function(e,t){if(s.DV_DATA_OBJECT.ctx&&s.DV_DATA_OBJECT.cmp)s.DV_DATA_OBJECT.doSendSignalsPrefetchedEvent=!0,function(e){var t,n,o,i=[];try{for(var u=r(a.GLOBAL_SIGNALS),l=u.next();!l.done;l=u.next()){var c=l.value,d=s.DV_DATA_OBJECT[c];null!=d&&(i.push(c.toLowerCase()),e[c]=d,(null!==(o=s.DV_DATA_OBJECT.autoInsert)&&void 0!==o?o:s.DV_DATA_OBJECT.gptInsert)&&f.googletagService.setTargeting(c,"number"==typeof d?"".concat(d):d))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}f.googletagService.setTargeting(a.GREENLIGHT_TARGETING_KEY,i)}(t);else{var n=(0,p.getScriptParams)(e),o=n.ctx,i=n.cmp;if(!o||!i)throw new Error("ctx and cmp params are missing");s.DV_DATA_OBJECT.ctx=o,s.DV_DATA_OBJECT.cmp=i}};t.initGlobalApi=function(){var e;if(u.PQ&&u.PQ.loaded){var t=((e={})[l.PixelParamNames.EventAction]=a.PT_DUPLICATED_LOAD_EVENT,e);(0,c.track)(t)}else{u.PQ.loaded=!0,u.PQ.PTS={},s.DV_DATA_OBJECT.pid=(0,y.default)();var n=(0,v.getSignalsPqApi)(u.PQ.PTS);(0,g.objectAssign)(u.PQ,n);var o,f,_,T=(0,p.getCurrentScriptSrc)(a.SCRIPT_PATTERN);m(T,u.PQ.PTS),function(){var e,t,n=[];u.PQ&&Array.isArray(u.PQ.cmd)&&(n=u.PQ.cmd),u.PQ.cmd=i.CMD;try{for(var o=r(n),a=o.next();!a.done;a=o.next()){(0,a.value)()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}(),o=T,f=s.DV_DATA_OBJECT.doSendSignalsPrefetchedEvent?a.PT_ON_LOAD_WITH_SIGNALS_EVENT:a.PT_ON_LOAD_EVENT,_=(0,h.getExecTime)(),setTimeout((function(){(0,d.reportPerformance)({src:o,data:s.DV_DATA_OBJECT},_,f)}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMD=void 0,t.CMD={push:function(e){if("function"!=typeof e)throw Error("Command passed to PQ.cmd have to be a function");try{e()}catch(e){console.error(e.message)}}}},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,s=function(e,t){p[o]=e,p[o+1]=t,2===(o+=2)&&(a?a(g):T())},u="undefined"!=typeof window?window:void 0,l=u||{},c=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function v(){var e=setTimeout;return function(){return e(g,1)}}var p=new Array(1e3);function g(){for(var e=0;e<o;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;o=0}var h,y,m,_,T=void 0;function S(e,t){var n=this,r=new this.constructor(A);void 0===r[b]&&L(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return M(o,r,i,n._result)}))}else I(n,r,e,t);return r}function P(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(A);return D(t,e),t}d?T=function(){return t.nextTick(g)}:c?(y=0,m=new c(g),_=document.createTextNode(""),m.observe(_,{characterData:!0}),T=function(){_.data=y=++y%2}):f?((h=new MessageChannel).port1.onmessage=g,T=function(){return h.port2.postMessage(0)}):T=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(g)}:v()}catch(e){return v()}}():v();var b=Math.random().toString(36).substring(2);function A(){}function w(t,n,r){n.constructor===t.constructor&&r===S&&n.constructor.resolve===P?function(e,t){1===t._state?O(e,t._result):2===t._state?x(e,t._result):I(t,void 0,(function(t){return D(e,t)}),(function(t){return x(e,t)}))}(t,n):void 0===r?O(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?D(e,n):O(e,n))}),(function(t){r||(r=!0,x(e,t))}),e._label);!r&&o&&(r=!0,x(e,o))}),e)}(t,n,r):O(t,n)}function D(e,t){if(e===t)x(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)O(e,t);else{var n=void 0;try{n=t.then}catch(t){return void x(e,t)}w(e,t,n)}var r,o}function E(e){e._onerror&&e._onerror(e._result),N(e)}function O(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(N,e))}function x(e,t){void 0===e._state&&(e._state=2,e._result=t,s(E,e))}function I(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&s(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?M(n,r,o,i):o(i);e._subscribers.length=0}}function M(t,n,r,o){var i=e(r),a=void 0,s=void 0,u=!0;if(i){try{a=r(o)}catch(e){u=!1,s=e}if(n===a)return void x(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&u?D(n,a):!1===u?x(n,s):1===t?O(n,a):2===t&&x(n,a))}var C=0;function L(e){e[b]=C++,e._state=void 0,e._result=void 0,e._subscribers=[]}var R=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(A),this.promise[b]||L(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===P){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===S&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===j){var s=new n(A);a?x(s,i):w(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?x(r,n):this._result[t]=n),0===this._remaining&&O(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),j=function(){function t(e){this[b]=C++,this._result=this._state=void 0,this._subscribers=[],A!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){D(e,t)}),(function(t){x(e,t)}))}catch(t){x(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return j.prototype.then=S,j.all=function(e){return new R(this,e).promise},j.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},j.resolve=P,j.reject=function(e){var t=new this(A);return x(t,e),t},j._setScheduler=function(e){a=e},j._setAsap=function(e){s=e},j._asap=s,j.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=j},j.Promise=j,j},e.exports=r()}).call(this,n(49),n(50))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&v())}function v(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(v)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(e){r.navigator.sendBeacon?r.navigator.sendBeacon(e):(new Image).src=e}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getServerTimingFromHeaders=void 0;t.getServerTimingFromHeaders=function(e){var t=null==e?void 0:e.get("Server-Timing");return t?function(e){var t,n,o,i,a=[];try{for(var s=r(e.split(", ")),u=s.next();!u.done;u=s.next()){var l=u.value.split(";"),c={};try{for(var d=(o=void 0,r(l)),f=d.next();!f.done;f=d.next()){var v=f.value;v.startsWith("desc=")?c.description=v.substring("desc=".length):v.startsWith("dur=")?c.duration=v.substring("dur=".length):c.name=v}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}a.push(c)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}(t):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignalsPqApi=void 0;var r,o=n(54);t.getSignalsPqApi=function(e,t){void 0===t&&(t="gam");var n={},i=new o.ExecutionManagerResolver(e);return r=i.getExecutionManager(t),n.init=function(e){var t=e.adServerType;if(null==t)throw Error("adServerType has to be specified");r=i.getExecutionManager(t)},n.loadSignals=function(e,t){return r.loadSignals(e,t)},n.loadSignalsForSlots=function(e,t,n){return r.loadSignalsForSlots(e,t,n)},n.getTargeting=function(e,t){return r.getTargeting(e,t)},n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutionManagerResolver=void 0;var r=n(55),o=["gam","xandr"],i=function(){function e(e){this.PTS=e}return Object.defineProperty(e.prototype,"signalsManagerGam",{get:function(){return this._signalsManagerGam||(this._signalsManagerGam=new r.SignalsManagerGam(this.PTS)),this._signalsManagerGam},enumerable:!1,configurable:!0}),e.prototype.getExecutionManager=function(e){if(-1===o.indexOf(e.toLowerCase()))throw Error("Ad Server ".concat(e," is not supported"));return this.signalsManagerGam},e}();t.ExecutionManagerResolver=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalsManagerGam=void 0;var c=n(3),d=n(4),f=n(0),v=n(5),p=n(56),g=n(58),h=n(7),y=n(59),m=n(60),_=n(61),T=l(n(6)),S=n(62),P=n(22),b=n(63),A=n(64),w=function(){function e(e){var t=this;void 0===e&&(e={}),this.PTS=e,this.SLOT_IDS={},this.isSomeAdsLoadedBeforePagetag=!1,this.slotRequestedTime=null,P.googletagService.setTargeting(c.QT_PAGE_ID_KEY,d.DV_DATA_OBJECT.pid),P.googletagService.haveAdsLoaded()&&(this.isSomeAdsLoadedBeforePagetag=!0),P.googletagService.addSlotRequestedListener((function(e){t.slotRequestedTime=(0,h.getExecTime)()}))}return e.prototype.addGlobalTargeting=function(e,t){var n,r,o=P.googletagService.getTargetingSync(e);if(0!==o.length||0!==t.length){var i=s(s([],a(t),!1),a(o),!1).filter(_.uniqueFilter);P.googletagService.setTargeting(e,i);try{for(var l=u(P.googletagService.getSlotsSync()),c=l.next();!c.done;c=l.next()){var d=c.value;if(d.getTargetingKeys().indexOf(e)>0){var f=s(s([],a(i),!1),a(d.getTargeting(e)),!1);d.setTargeting(e,f)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.getSlotParamString=function(e){var t,n;void 0===e&&(e=[]);var r=[];try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(void 0!==a){var s=a.getAdUnitPath(),l=P.googletagService.getSlotSizes(a),c=this.getSlotSizesString(l),d=this.getAdUnitParam(s,c);r.push(d)}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.filter(_.uniqueFilter).join("&")},e.prototype.getSlotSizesString=function(e){return e.length>0?e.sort().join(","):"all"},e.prototype.getAdUnitsParamString=function(e){var t,n,r=[];try{for(var o=u(e),i=o.next();!i.done;i=o.next()){var a=i.value,s=this.getAdUnitParam(a.adUnitPath,a.sizes);r.push(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r.filter(_.uniqueFilter).join("&")},e.prototype.getAdUnitParam=function(e,t){return"adunits[".concat(e,"][]=").concat(t)},e.prototype.setSignalsTargeting=function(e,t){var n=this,r=P.googletagService.getGpt();return new Promise((function(o){r.cmd.push((function(){var i=[];c.ALL_SIGNALS.forEach((function(o){var a=e[o];if(void 0!==a)switch(o){case c.IDS:case c.BSC:case c.ABS:r.pubads().setTargeting(o,"number"==typeof a?"".concat(a):a),i.push(o.toLowerCase());break;case c.VLP:n.setVLPTargeting(a,r.pubads().getSlots(),t);break;case c.TVP:n.setTVPTargeting(a,r.pubads().getSlots(),t)}})),n.addGlobalTargeting(c.GREENLIGHT_TARGETING_KEY,i),o()}))}))},e.prototype.setVLPTargeting=function(e,t,n){this.setPredictionSignalTargeting(e,t,n,c.VLP)},e.prototype.setTVPTargeting=function(e,t,n){this.setPredictionSignalTargeting(e,t,n,c.TVP)},e.prototype.setPredictionSignalTargeting=function(e,t,n,r){var o,i;try{for(var l=u(t),d=l.next();!d.done;d=l.next()){var f=d.value;if(void 0!==f){var v=f.getAdUnitPath();if(e&&e[v]){var p=P.googletagService.getSlotSizes(f),g=this.getSlotSizesString(p),h=e[v][g];if(null!=h){var y=f.getSlotId().getId();this.SLOT_IDS[y]=this.SLOT_IDS[y]||(0,T.default)();var m=this.SLOT_IDS[y];n&&(n[m]=n[m]||{},n[m][r]=h),f.setTargeting(r,h),f.setTargeting(c.QT_SLOT_ID_KEY,m),f.setTargeting(c.GREENLIGHT_TARGETING_KEY,s(s([],a(f.getTargeting(c.GREENLIGHT_TARGETING_KEY)),!1),[r.toLowerCase()],!1).filter(_.uniqueFilter))}}}}}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}},e.prototype.processNewSlots=function(e){var t,n,r=[],o=[];if(!this.PTS.VLP)return{newSlots:e,existingSlots:o};try{for(var i=u(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(void 0!==s){var l=s.getAdUnitPath(),c=this.PTS.VLP[l];if(c){var d=P.googletagService.getSlotSizes(s);c["".concat(d.sort().join(","))]||r.push(s),o.push(s)}else r.push(s)}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{newSlots:r,existingSlots:o}},e.prototype.getSignalData=function(e){return this.PTS[e]||{}},e.prototype.setSignalsDataToState=function(e){var t,n;try{for(var r=u(Object.keys(e)),o=r.next();!o.done;o=r.next()){var i=o.value,a=e[i];switch(i){case c.IDS:case c.BSC:case c.ABS:this.PTS[i]=a;break;case c.VLP:this.addPredictionSignalToPTS(c.VLP,a);break;case c.TVP:this.addPredictionSignalToPTS(c.TVP,a)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.addPredictionSignalToPTS=function(e,t){var n,r,o,i;if(this.PTS[e])try{for(var a=u(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value,c=this.PTS[e][l];if(c)try{for(var d=(o=void 0,u(Object.keys(t[l]))),f=d.next();!f.done;f=d.next()){var v=f.value;c[v]=t[l][v]}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(o)throw o.error}}else this.PTS[e][l]=t[l]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}else this.PTS[e]=t},e.prototype.getTimeDelta=function(e,t,n){return null==n||n<e?null:n-e},e.prototype.loadSignals=function(e,t){var n,r;return void 0===t&&(t=g.emptyCallback),o(this,void 0,void 0,(function(){var o,a,s,u,l,g,_,T,b,A,w,D,E,O,x,I=this;return i(this,(function(i){switch(i.label){case 0:o=new p.PendingEvent("loadSignals"),a=(0,h.getExecTime)(),i.label=1;case 1:return i.trys.push([1,7,8,9]),s=Array.isArray(e)?e:e.signals,o.addRequestedSignals(s),u=s.filter((function(e){var t=c.GLOBAL_SIGNALS.indexOf(e.toUpperCase())>-1,n=Object.prototype.hasOwnProperty.call(I.PTS,e.toUpperCase());return!(t&&n)})),l=(0,S.getSignalsApiUrl)(u),(g=f.WINDOW.location.href)&&(l="".concat(l,"&url=").concat(encodeURIComponent(g))),u.some((function(e){return c.SLOT_SIGNALS.indexOf(e.toUpperCase())>-1}))?(o.setEventAction(v.EventAction.SlotTimeout),[4,P.googletagService.getSlots()]):[3,3];case 2:_=i.sent(),o.setEventAction(v.EventAction.Unknown),(T=this.getSlotParamString(_))&&(l="".concat(l,"&").concat(T)),i.label=3;case 3:return o.setEventAction(v.EventAction.RequestTimeout),[4,(0,y.sendRequest)(l)];case 4:return b=i.sent(),A=b.body,w=b.headers,o.setEventAction(v.EventAction.Unknown),D=(0,h.getExecTime)(),E=this.slotRequestedTime,o.addPerformanceData({src:l,headers:w,data:A,isSomeAdsLoadedBeforePageTag:this.isSomeAdsLoadedBeforePagetag,slotRequestedTimeDelta:this.getTimeDelta(a,D,E)}),d.DV_DATA_OBJECT.autoInsert=null!==(n=A.autoInsert)&&void 0!==n?n:A.gptInsert,this.setSignalsDataToState(A),O={},(null!==(r=A.autoInsert)&&void 0!==r?r:A.gptInsert)?(o.setAutoInsert(),o.setEventAction(v.EventAction.AutoinsertTimeout),[4,this.setSignalsTargeting(A,O)]):[3,6];case 5:i.sent(),o.setEventAction(v.EventAction.Unknown),i.label=6;case 6:return o.addResultsData(A,O),o.setRequestSuccess(),o.setEventAction(v.EventAction.LoadSignals),(0,m.tryFunction)(t),[3,9];case 7:return x=i.sent(),o.trackError(x),(0,m.tryFunction)(t,x),[3,9];case 8:return o.fireEvent(),[7];case 9:return[2]}}))}))},e.prototype.loadSignalsForSlots=function(e,t,n){var r,a;return void 0===n&&(n=g.emptyCallback),o(this,void 0,void 0,(function(){var o,s,u,l,f,g,_,T,P,b,A,w,D,E,O,x,I;return i(this,(function(i){switch(i.label){case 0:o=new p.PendingEvent("loadSignalsForSlots"),s=(0,h.getExecTime)(),u=Array.isArray(t)?t:c.SLOT_SIGNALS,o.addRequestedSignals(u),l="function"==typeof t?t:n,i.label=1;case 1:return i.trys.push([1,5,6,7]),f=this.processNewSlots(e),g=f.newSlots,_=f.existingSlots,T={},(null!==(r=null===d.DV_DATA_OBJECT||void 0===d.DV_DATA_OBJECT?void 0:d.DV_DATA_OBJECT.autoInsert)&&void 0!==r?r:null===d.DV_DATA_OBJECT||void 0===d.DV_DATA_OBJECT?void 0:d.DV_DATA_OBJECT.gptInsert)&&(this.setVLPTargeting(this.getSignalData(c.VLP),_,T),this.setTVPTargeting(this.getSignalData(c.TVP),_,T)),0===g.length?((0,m.tryFunction)(l),o.addResultsData({}),o.setRequestSuccess(),o.setEventAction(v.EventAction.LoadSignalsSlots),[2]):(P=u.filter((function(e){return!Object.prototype.hasOwnProperty.call(d.DV_DATA_OBJECT,e.toUpperCase())})),b=(0,S.getSignalsApiUrl)(P),(A=this.getSlotParamString(g))&&(b="".concat(b,"&").concat(A)),o.setEventAction(v.EventAction.RequestTimeout),[4,(0,y.sendRequest)(b)]);case 2:return w=i.sent(),D=w.body,E=w.headers,o.setEventAction(v.EventAction.Unknown),O=(0,h.getExecTime)(),x=this.slotRequestedTime,o.addPerformanceData({src:b,headers:E,data:D,isSomeAdsLoadedBeforePageTag:this.isSomeAdsLoadedBeforePagetag,slotRequestedTimeDelta:this.getTimeDelta(s,O,x)}),this.setSignalsDataToState(D),(null!==(a=D.autoInsert)&&void 0!==a?a:D.gptInsert)?(o.setAutoInsert(),o.setEventAction(v.EventAction.AutoinsertTimeout),[4,this.setSignalsTargeting(D,T)]):[3,4];case 3:i.sent(),o.setEventAction(v.EventAction.Unknown),i.label=4;case 4:return o.addResultsData(D,T),o.setRequestSuccess(),o.setEventAction(v.EventAction.LoadSignalsSlots),(0,m.tryFunction)(l),[3,7];case 5:return I=i.sent(),o.trackError(I),(0,m.tryFunction)(l,I),[3,7];case 6:return o.fireEvent(),[7];case 7:return[2]}}))}))},e.prototype.getTargeting=function(e,t){var n;return void 0===t&&(t=g.emptyCallback),o(this,void 0,void 0,(function(){var o,a,s,l,f,g,_,T,P,w,D,E,O,x,I,N,M,C,L,R,j,W,B,V,k,G,q;return i(this,(function(i){switch(i.label){case 0:o=new p.PendingEvent("getTargeting"),a=(0,h.getExecTime)(),i.label=1;case 1:if(i.trys.push([1,5,6,7]),s=e.signals,l=e.adUnits,!s)throw new Error("No signals are specified");o.addRequestedSignals(s),f=[],g={};try{for(_=u(s),T=_.next();!T.done;T=_.next())P=T.value,w=P.toUpperCase(),c.GLOBAL_SIGNALS.indexOf(w.toUpperCase())>-1&&Object.prototype.hasOwnProperty.call(this.PTS,w)?g[w]=this.PTS[w]:f.push(P)}catch(e){k={error:e}}finally{try{T&&!T.done&&(G=_.return)&&G.call(_)}finally{if(k)throw k.error}}return f.length>0?(D=(0,S.getSignalsApiUrl)(f),E="gam",O=[],null!=l&&(q=(0,b.normalizeAdUnits)(l),O=q.adunits,E=q.type,(x=this.getAdUnitsParamString(O))&&(D="".concat(D,"&").concat(x,"&adsrvType=").concat(E))),o.setEventAction(v.EventAction.RequestTimeout),[4,(0,y.sendRequest)(D)]):[3,3];case 2:return I=i.sent(),N=I.body,M=I.headers,o.setEventAction(v.EventAction.Unknown),C=(0,A.normalizeSignalsResponse)(N,E),d.DV_DATA_OBJECT.autoInsert=null!==(n=C.autoInsert)&&void 0!==n?n:C.gptInsert,f.forEach((function(e){var t=e.toUpperCase(),n=C[t];void 0!==n&&(g[t]=n)})),L=this.getVisitAndPerfTargeting(O,N),R=L.slotTargeting,B=L.visitTargeting,g=r(r({},g),B),this.setSignalsDataToState(C),j=(0,h.getExecTime)(),W=this.slotRequestedTime,o.addPerformanceData({src:D,headers:M,data:N,isSomeAdsLoadedBeforePageTag:this.isSomeAdsLoadedBeforePagetag,slotRequestedTimeDelta:this.getTimeDelta(a,j,W)}),o.addResultsData(g,R),[3,4];case 3:B=this.getVisitAndPerfTargeting(null,{}).visitTargeting,g=r(r({},g),B),i.label=4;case 4:return o.setRequestSuccess(),o.setEventAction(v.EventAction.LoadSignals),(0,m.tryFunction)(t,void 0,g),[3,7];case 5:return V=i.sent(),o.trackError(V),(0,m.tryFunction)(t,V),[3,7];case 6:return o.fireEvent(),[7];case 7:return[2]}}))}))},e.prototype.getVisitAndPerfTargeting=function(e,t){var n,r,o,i,a,s,l,f,v={},p=((n={})[c.QT_PAGE_ID_KEY]=d.DV_DATA_OBJECT.pid,n);if(!e)return{slotTargeting:v,visitTargeting:p};p[c.QT_SLOT_ID_KEY]={};try{for(var g=u(e),h=g.next();!h.done;h=g.next()){var y=h.value,m=(0,T.default)();v[m]={};try{for(var _=(i=void 0,u(c.SLOT_SIGNALS)),S=_.next();!S.done;S=_.next()){var P=S.value,b=null===(l=null===(s=t[P])||void 0===s?void 0:s[y.adUnitPath])||void 0===l?void 0:l[y.sizes];if(null!=b){v[m][P]=b;var A=null!==(f=y.identifier)&&void 0!==f?f:y.adUnitPath;p[c.QT_SLOT_ID_KEY][A]||(p[c.QT_SLOT_ID_KEY][A]={}),p[c.QT_SLOT_ID_KEY][A][y.sizes]=m}}}catch(e){i={error:e}}finally{try{S&&!S.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}return{slotTargeting:v,visitTargeting:p}},e}();t.SignalsManagerGam=w},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PendingEvent=void 0;var a=n(3),s=n(4),u=n(0),l=n(5),c=n(20),d=n(11),f=n(7),v=i(n(19)),p=i(n(6)),g=n(57),h=0,y=function(){function e(e){var t,n=this;this.flushed=!1,this.data=((t={})[l.PixelParamNames.ProtocolVersion]="1",t[l.PixelParamNames.HitType]="event",t[l.PixelParamNames.EventCategory]="page",t[l.PixelParamNames.EventAction]=l.EventAction.Unknown,t[l.PixelParamNames.PackageVersion]="@dvpub/signals-pagetag@0.0.2",t[l.PixelParamNames.ClientId]=s.DV_DATA_OBJECT.pid,t[l.PixelParamNames.CacheBuster]=(0,v.default)(),t[l.PixelParamNames.Ctx]=s.DV_DATA_OBJECT.ctx||"missing",t[l.PixelParamNames.Cmp]=s.DV_DATA_OBJECT.cmp||"missing",t[l.PixelParamNames.UniqueId]=(0,p.default)(),t[l.PixelParamNames.Referrer]=u.WINDOW.location.href,t[l.PixelParamNames.TagType]="qt",t[l.PixelParamNames.TagVersion]="0",t[l.PixelParamNames.ApiFunction]=e,t[l.PixelParamNames.IsPrefetch]=s.DV_DATA_OBJECT.doSendSignalsPrefetchedEvent?"1":void 0,t),this.start=(0,f.getExecTime)(),setTimeout((function(){try{n.flush()}catch(e){}}),1e3)}return e.prototype.addPerformanceData=function(e){var t=this;this.performancePromise=(0,c.getPerformanceReport)(e,(0,f.getExecTime)()).then((function(e){return t.addData(e)}))},e.prototype.setEventAction=function(e){var t;this.addData(((t={})[l.PixelParamNames.EventAction]=e,t))},e.prototype.setRequestSuccess=function(){var e,t,n=(0,f.getExecTime)();null!=this.start&&null!=n&&(t=Math.round(n-this.start)),this.addData(((e={})[l.PixelParamNames.RequestSuccess]="1",e[l.PixelParamNames.CallbackTime]=t,e))},e.prototype.addRequestedSignals=function(e){var t;e=e.map((function(e){return e.toUpperCase()}));var n=function(t){return-1!==e.indexOf(t.toUpperCase())},r=function(e){return e?"1":void 0};this.addData(((t={})[l.PixelParamNames.IdsRequested]=r(n(a.IDS)),t[l.PixelParamNames.BscRequested]=r(n(a.BSC)),t[l.PixelParamNames.AbsRequested]=r(n(a.ABS)),t[l.PixelParamNames.VlpRequested]=r(n(a.VLP)),t[l.PixelParamNames.TvpRequested]=r(n(a.TVP)),t))},e.prototype.setAutoInsert=function(){var e;this.addData(((e={})[l.PixelParamNames.AutoInsertEnabled]="1",e))},e.prototype.addResultsData=function(e,t){var n,r,o,i,s,u;if(null!=e[a.IDS]&&this.addData(((n={})[l.PixelParamNames.IdsResult]=e[a.IDS],n)),null!=e[a.BSC]&&this.addData(((r={})[l.PixelParamNames.BscResult]=e[a.BSC].length,r)),null!=e[a.ABS]&&this.addData(((o={})[l.PixelParamNames.AbsResult]=e[a.ABS].length,o)),null!=e[a.VLP]){var c=(0,g.getSlotMetrics)(e[a.VLP]),d=c.sizes,f=c.results;this.addData(((i={})[l.PixelParamNames.VlpSlots]=d,i[l.PixelParamNames.VlpResult]=f,i))}if(null!=e[a.TVP]){var v=(0,g.getSlotMetrics)(e[a.TVP]);d=v.sizes,f=v.results;this.addData(((s={})[l.PixelParamNames.TvpSlots]=d,s[l.PixelParamNames.TvpResult]=f,s))}t&&this.addData(((u={})[l.PixelParamNames.SignalsSlotTargetingDim]=JSON.stringify(t),u))},e.prototype.trackError=function(e){var t;this.addData(((t={})[l.PixelParamNames.EventAction]="error",t[l.PixelParamNames.ErrorDim]=(null==e?void 0:e.message)||"unknown error",t)),this.flush()},e.prototype.fireEvent=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.performancePromise];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:try{this.flush()}catch(e){}return[2]}}))}))},e.prototype.addData=function(e){(0,d.objectAssign)(this.data,e)},e.prototype.flush=function(){var e=this;if(!(this.flushed||h>=5)){this.flushed=!0,h++;var t=Object.keys(this.data).filter((function(t){return null!=e.data[t]})).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e.data[t]))})),n="".concat("https://vtrk.doubleverify.com","?").concat(t.join("&"));null!=u.navigator.sendBeacon?u.navigator.sendBeacon(n):(new Image).src=n}},e}();t.PendingEvent=y},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getSlotMetrics=void 0;t.getSlotMetrics=function(e){var t,n,o,i,a=0,s=0,u=0;try{for(var l=r(Object.keys(e)),c=l.next();!c.done;c=l.next()){var d=c.value;a+=1;var f=e[d];try{for(var v=(o=void 0,r(Object.keys(f))),p=v.next();!p.done;p=v.next()){var g=p.value;s+=1;var h=Number.parseInt(f[g][0],10);Number.isNaN(h)||(u+=h)}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return{slots:a,sizes:s,results:u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyCallback=void 0;t.emptyCallback=function(e,t){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequest=void 0;var r=n(0);t.sendRequest=r.WINDOW.fetch?function(e){var t=r.WINDOW.fetch;return new Promise((function(n,r){t(e,{referrerPolicy:"no-referrer-when-downgrade"}).then((function(e){200!==e.status?e.json().then((function(e){r(e)}),(function(e){return r(e)})):e.json().then((function(t){n({headers:e.headers,body:t})}),(function(e){return r(e)}))}),(function(e){return r(e)}))}))}:function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.onload=function(){var e=JSON.parse(r.responseText);t({body:e,headers:{get:function(e){return r.getResponseHeader(e)}}})},r.onerror=function(){n()},r.open("GET",e,!0),r.send()}))}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.tryFunction=void 0;t.tryFunction=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{return e.apply(void 0,o([],r(t),!1))}catch(e){return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueFilter=void 0;t.uniqueFilter=function(e,t,n){return n.indexOf(e)===t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignalsApiUrl=void 0;var r=n(4);t.getSignalsApiUrl=function(e){var t="".concat(r.DV_DATA_OBJECT.url,"?ctx=").concat(r.DV_DATA_OBJECT.ctx,"&cmp=").concat(r.DV_DATA_OBJECT.cmp);return e&&(t="".concat(t,"&signals=").concat(e.join(","))),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeAdUnits=void 0;t.normalizeAdUnits=function(e){if(!Array.isArray(e))throw new Error("Adunits must be an array");if(0===e.length)return{adunits:[],type:"gam"};var t=e[0];if(null!=t.adUnitPath)return{adunits:e,type:"gam"};if(null!=t.invCode||null!=t.tagId)return{adunits:e.map((function(e){var t=e.invCode,n=e.tagId;if(null!=t)return{adUnitPath:"invcode-".concat(t),identifier:t,sizes:e.sizes};if(null!=n)return{adUnitPath:"tagid-".concat(n),identifier:n,sizes:e.sizes};throw new Error("Invalid Xandr adunit")})),type:"xandr"};throw new Error("Unknown adunit type")}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeSignalsResponse=void 0;var a=n(3),s=new RegExp("^(tagid|invcode)-"),u=function(e){var t,n,r={};try{for(var a=o(Object.entries(e)),u=a.next();!u.done;u=a.next()){var l=i(u.value,2),c=l[0],d=l[1];r[c.replace(s,"")]=d}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r};t.normalizeSignalsResponse=function(e,t){var n,i;if("xandr"!==t)return e;var s=r({},e),l=Object.keys(e).filter((function(e){return a.SLOT_SIGNALS.indexOf(e)>=0}));try{for(var c=o(l),d=c.next();!d.done;d=c.next()){var f=d.value;s[f]=u(e[f])}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptParams=t.getCurrentScriptSrc=void 0;t.getCurrentScriptSrc=function(e){return document.currentScript?document.currentScript.getAttribute("src"):r(e)};var r=function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1){var r=t[n].getAttribute("src");if(e.test(r))return r}throw new Error("Page Tag script not found on the page")};t.getScriptParams=function(e){void 0===e&&(e="");var t=e.split("#")[1];return o(t)};var o=function(e){void 0===e&&(e="");for(var t={},n=e.split("&"),r=0;r<n.length;r+=1){var o=n[r].split("="),i=decodeURIComponent(o[0]),a=decodeURIComponent(o[1]);t[i]=a}return t}}]);